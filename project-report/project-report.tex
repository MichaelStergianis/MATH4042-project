\documentclass{article}

\usepackage[margin = 1in]{geometry}
\usepackage{minted}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{xcolor}
\usepackage{setspace}
\usepackage{hyperref}
\usepackage[backend=biber]{biblatex}

\bibliography{project-report.bib}
\doublespacing

\title{Final Project Report}
\author{Leanna Calla \\ Michael Stergianis}
\date{March 27th, 2018}

\newcommand{\norm}[1]{\left\| #1 \right\|}

\begin{document}
\maketitle
%
\section{Introduction}
\begin{flushleft}
  %
  When attempting to increase the detail of an image, any noise in
  that image will also be used in the interpolation scheme. Therefore
  an integral first step to super resolution is to denoise the image
  in a way that preserves edges, corners, and the finer details of the
  image.
  %
\end{flushleft}
%
\section{Filtering Techniques}

%\begin{flushleft}


\subsection{Gaussian Blur}
As described in \cite{bilateral}, Gaussian blur is a linear filtering
technique which takes local averages of pixel intensities. The
Gaussian blurred image is defined as follows
\[GB[I]_p = \displaystyle \sum_{\textbf{q} \in S}G_{\sigma} \left(
    \norm{\textbf{p} - \textbf{q}}\right)I_{\textbf{q}} \]
where the two dimensional Gaussian kernel, $G_{\sigma}(x)$ is given by
\[G_{\sigma}(x) = \frac{1}{2 \pi \sigma^2} \text{exp} \left(-
    \frac{x^2}{2 \sigma^2}\right). \]

\subsection{Bilateral Filter}
The Bilateral filter as given in \cite{Faisal-bilateral} is as follows

\[  \left(|I_{\textbf{p}} - I_{\textbf{q}}|\right)I_{\textbf{q}} \]
Where the Gaussian blur term is used as a space weight, and the
additional term in the sum is the range weight. Note, the sum has also
been normalized. This filtering technique takes into account the
effects of space and range parameters. The space parameter,
$\sigma_s$, refers to the spatial extent of the kernel. The Gaussian
over this element will decrease the influence of distant pixel. The
range parameter, $\sigma_r$, refers to the minimum amplitude of an
edge. The Gaussian over this parameter will decrease the intensity of
pixels whose value is different from $I_{\textbf{p}}$. The bilateral
filter tends to break the image into two layers. \cite{bilateral}
describes the layers as a large layer which is a smoother version of
the image with the contours preserved and a smaller layer which can be
thought of as the residual of the image, which may contain noise or
texture. The bilateral filter smooths an image while preserving the
image's discontinuities. 
%\end{flushleft}
\subsection{Median Filtering}
%
\begin{flushleft}
  %
  Median filtering is a common technique to remove noise from an
  image. \cite{Med2012} explores the median filter. A median filter is a
  nonlinear filter. A sliding mask is applied to the image, where the
  value of a noisy pixel is replaced by the median of the pixels in
  the mask. The performance of the median filter depends on the size
  of the mask and the distribution of the noise.

  \subsection{Improved Median}
   \cite{improved-median} and \cite{Med2012} shows progress on an
   improved median filter over a year. The algorithm
   \texttt{improved\_median} has been implemented to show the improved
   filtering techniques as suggested by the papers. The improved
   median filter compared with
   the standard median filter in the Statistics section. The steps of
   the improved median filter algorithm are as
   follows
   \begin{enumerate}
   \item an $n\times n$ mask is chosen to slide over the image
     \item the median, \textit{median}, of the mask is computed. This
       is done by ordering the elements and choosing the middle
       element as the median
       \item a new average is computed, \textit{avg}. In this average the
         central element is replaced with \textit{median}.
         \item Each pixel in the mask is compared with
           \textit{avg}
           \item if every pixel in the mask is greater than the
             \textit{avg}, then the central pixel is replaced with the
             median of the patch
           \item otherwise the patch is unchanged
             \item steps 4-6 will be repeated until the image has been
               completely traversed.
     \end{enumerate}
   
  \end{flushleft}
%
  \section{Interpolation Techniques}
  
  %
  \section{Testing Code}
  A data set was created with a Matlab script. Two of Matlab's images,
  \texttt{cameraman.tif} and \texttt{peppers.png} were used. Noise was
  added to these images in four different ways. The noisy images are
  shown in figure 1 and 2. The following filters
  were applied
  \begin{itemize}
    \item salt and pepper noise, with the default settings, with
      default noise density of 0.05
    \item gaussian noise, with default adding zero mean and variance
      of 0.01 
    \item speckle noise, with defaults adding random noise with mean 0
      and variance 0.04 
    \item poisson noise, default settings generate Poisson noise from
      the data
    \end{itemize}

    \begin{figure}[H]
      \centering
      \includegraphics[width =0.15\textwidth]{../images/peps_truth}
      \includegraphics[width =0.15\textwidth]{../images/peps_noisy1}
      \includegraphics[width =0.15\textwidth]{../images/peps_noisy2}
      \includegraphics[width =0.15\textwidth]{../images/peps_noisy3}
      \includegraphics[width =0.15\textwidth]{../images/peps_noisy4}
      \caption{Ground truth displayed first, followed by the noisy
        images ordered by the filters as given above}
    \end{figure}
    
 \begin{figure}[H]
      \centering
      \includegraphics[width =0.15\textwidth]{../images/camera_truth}
      \includegraphics[width =0.15\textwidth]{../images/camera_noisy1}
      \includegraphics[width =0.15\textwidth]{../images/camera_noisy2}
      \includegraphics[width =0.15\textwidth]{../images/camera_noisy3}
      \includegraphics[width =0.15\textwidth]{../images/camera_noisy4}
      \caption{Ground truth displayed first, followed by the noisy
        images ordered by the filters as given above}
    \end{figure}   

  \section{Statistics Tracking}
  %
  Three different denoising techniques have been applied to the
  figures and the results of the signal to noise ratios and root mean
  square errors have been
% Bibliography
\newpage
\printbibliography
\end{document}
